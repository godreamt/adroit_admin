<div class="row">
    <div class="col-lg-12 col-md-12">
      <div class="card">
        <div class="card-header">
          <ng-container >Update User</ng-container>
        </div>
        <div class="card-body">
          
            <form [formGroup]="form" (submit)="updateUser($event)">
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                      <label for="firstName">First Name</label>
                      <input type="text" class="form-control" id="firstName" placeholder="Enter FirstName"
                        formControlName="firstName">
                      <small class="error"
                        *ngIf="form.controls['firstName'].touched && form.controls['firstName'].errors?.required">First Name is
                        required</small>
                    </div>
                    <div class="form-group">
                      <label for="lastName">Last Name</label>
                      <input type="text" class="form-control" id="lastName" placeholder="Enter Last Name"
                        formControlName="lastName">
                      <small class="error"
                        *ngIf="form.controls['lastName'].touched && form.controls['lastName'].errors?.required">Last Name is
                        required</small>
                    </div>
                    <div class="form-group">
                      <label for="email">Email</label>
                      <input type="text" class="form-control" id="email" placeholder="Enter Email"
                        formControlName="email">
                      <small class="error"
                        *ngIf="form.controls['email'].touched && form.controls['email'].errors?.required">Email is
                        required</small>
                      <small class="error"
                        *ngIf="form.controls['email'].touched && form.controls['email'].errors?.email">Enter valid email</small>
                    </div>
                    <div class="form-group">
                      <label for="mobileNumber">Mobile Number</label>
                      <input type="text" class="form-control" id="mobileNumber" placeholder="Enter Mobile Number"
                        formControlName="mobileNumber">
                      <small class="error"
                        *ngIf="form.controls['mobileNumber'].touched && form.controls['mobileNumber'].errors?.required">Mobile Number is
                        required</small>
                    </div>
                    <div class="form-group">
                      <label for="isActive">User Status</label>
                      <select class="form-control" formControlName="isActive" id="isActive">
                        <option value="yes">Active</option>
                        <option value="no">In Active</option>
                      </select>
                      <small class="error"
                        *ngIf="form.controls['isActive'].touched && form.controls['isActive'].errors?.required">User Status is
                        required</small>
                    </div>
                    <div class="form-group">
                      <label for="password">Password <small *ngIf="userId" class="text-muted">(Optional - enter for updating password)</small></label>
                      <input type="password" class="form-control" id="password" placeholder="Enter Password"
                        formControlName="password" [required]="!userId">
                      <small class="error"
                        *ngIf="form.controls['password'].touched && form.controls['password'].errors?.required">Password is
                        required</small>
                    </div>
                    <div class="form-group">
                      <label for="roles">User Type</label>
                      <select class="form-control" formControlName="roles" id="roles">
                        <option value="">Select Type</option>
                        <option value="admin">Admin</option>
                        <option value="country_head">Country Head</option>
                        <option value="state_head">State Head</option>
                        <option value="regional_head">Regional Head</option>
                        <option value="sales_executive">Sales Executive</option>
                        <option value="vendors">Vendors</option>
                      </select>
                      <small class="error"
                        *ngIf="form.controls['roles'].touched && form.controls['roles'].errors?.required">User Type is
                        required</small>
                    </div>
        
                    <div [hidden]="!roles || roles == 'admin' || roles == 'vendors'">
        
                      <div class="form-group">
                        <label for="monthlySalary">Monthly Salary</label>
                        <input type="text" class="form-control" id="monthlySalary" placeholder="Enter Salary"
                          formControlName="monthlySalary" [required]="roles != 'admin' && roles != 'vendors'">
                        <small class="error"
                          *ngIf="form.controls['monthlySalary'].touched && form.controls['monthlySalary'].errors?.required">Salary is
                          required</small>
                      </div>
        
                      <div class="form-group">
                        <label for="salesTarget">Default Sales Target</label>
                        <input type="text" class="form-control" id="salesTarget" placeholder="Enter Salary"
                          formControlName="salesTarget" [required]="roles != 'admin' && roles != 'vendors'">
                        <small class="error"
                          *ngIf="form.controls['salesTarget'].touched && form.controls['salesTarget'].errors?.required">Target is
                          required</small>
                      </div>
        
                      <div class="form-group">
                        <label for="collectionTarget">Default Collection Target</label>
                        <input type="text" class="form-control" id="collectionTarget" placeholder="Enter Salary"
                          formControlName="collectionTarget" [required]="roles != 'admin' && roles != 'vendors'">
                        <small class="error"
                          *ngIf="form.controls['collectionTarget'].touched && form.controls['collectionTarget'].errors?.required">Target is
                          required</small>
                      </div>
        
                      <div class="form-group">
                        <label for="fatherName">Father name</label>
                        <input type="text" class="form-control" id="fatherName" placeholder="Father Name"
                          formControlName="fatherName">
                      </div>
        
                      <div class="form-group">
                        <label for="motherName">Mother name</label>
                        <input type="text" class="form-control" id="motherName" placeholder="Mother Name"
                          formControlName="motherName">
                      </div>
        
                      <div class="form-group">
                        <label for="dateOfBirth">Date Of Birth</label>
                        <input class="form-control" id="dateOfBirth" placeholder="dd-mm-yyyy" ngbDatepicker #dateOfBirth="ngbDatepicker"
                          formControlName="dateOfBirth" (click)="dateOfBirth.toggle()">
                        <small *ngIf="form.controls['dateOfBirth'].touched && form.controls['dateOfBirth'].errors?.required"
                          class="error">Date Of Birth is required.</small>
                      </div>
        
                      <div class="form-group">
                        <label for="alternativeMobileNumber">Alt. Mobile</label>
                        <input type="text" class="form-control" id="alternativeMobileNumber" placeholder="Alt. Mobile"
                          formControlName="alternativeMobileNumber">
                      </div>
        
                      <div class="form-group">
                        <label for="alternativeEmail">Alt. Email</label>
                        <input type="text" class="form-control" id="alternativeEmail" placeholder="Alt. Email"
                          formControlName="alternativeEmail">
                      </div>
        
                      <div class="form-group">
                        <label for="alternativeAddress">Alt. Address</label>
                        <input type="text" class="form-control" id="alternativeAddress" placeholder="Alt. Address"
                          formControlName="alternativeAddress">
                      </div>
        
                      <div class="form-group">
                        <label for="panNumber">PAN</label>
                        <input type="text" class="form-control" id="panNumber" placeholder="PAN"
                          formControlName="panNumber">
                      </div>
        
                      <div class="form-group">
                        <label for="adharNumber">Adhar No.</label>
                        <input type="text" class="form-control" id="adharNumber" placeholder="Adhar No."
                          formControlName="adharNumber">
                      </div>
        
                      <div class="form-group">
                        <label for="drivingLicence">Driving Licence</label>
                        <input type="text" class="form-control" id="drivingLicence" placeholder="Driving Licence"
                          formControlName="drivingLicence">
                      </div>
        
                    </div>
                    
                    <button *ngIf="roles == 'admin'" type="submit" class="btn btn-primary">Save</button>
                </div>
                <div class="col-md-6" [hidden]="!roles || roles=='admin'">
                  
          
                    <div class="form-group">
                      <label for="country_id">Country</label>
                      <select formControlName="country_id" id="country_id" class="form-control" (change)="getStates()" [required]="roles && roles!='admin'">
                        <option value="" disabled>Select Country</option>
                        <option *ngFor="let item of countryList" [value]="item.id">{{ item.country }}</option>
                      </select>
                      <small class="error"
                        *ngIf="form.controls['country_id'].touched && form.controls['country_id'].errors?.required">Country is
                        required</small>
                    </div>
          
                    <div class="form-group"  [hidden]="roles && (roles=='admin' || roles == 'country_head')" >
                      <label for="state_id">State</label>
                      <select formControlName="state_id" id="state_id" class="form-control" (change)="getRegions()" [required]="roles && roles!='admin' && roles != 'country_head'">
                        <option value="" disabled>Select State</option>
                        <option *ngFor="let item of stateList" [value]="item.id">{{ item.state }}</option>
                      </select>
                      <small class="error"
                        *ngIf="form.controls['state_id'].touched && form.controls['state_id'].errors?.required">State is
                        required</small>
                    </div>
        
                    <div class="form-group" [hidden]="roles && (roles=='admin' || roles == 'country_head' || roles == 'state_head')">
                      <label for="region_id">Region</label>
                      <select formControlName="region_id" id="region_id" class="form-control" (change)="getArea()" [required]="roles && roles!='admin' && roles != 'country_head' && roles != 'state_head'">
                        <option value="" disabled>Select Region</option>
                        <option *ngFor="let item of regionList" [value]="item.id">{{ item.region }}</option>
                      </select>
                      <small class="error"
                        *ngIf="form.controls['region_id'].touched && form.controls['region_id'].errors?.required">Region is
                        required</small>
                    </div>
        
                    <div class="form-group" [hidden]="roles && (roles=='admin' || roles == 'country_head' || roles == 'state_head' || roles == 'regional_head')">
                      <label for="area_id">Area</label>
                      <select formControlName="area_id" id="area_id" class="form-control" [required]="roles && roles!='admin' && roles != 'country_head' && roles != 'state_head' && roles != 'regional_head'">
                        <option value="" disabled>Select Area</option>
                        <option *ngFor="let item of areaList" [value]="item.id">{{ item.area }}</option>
                      </select>
                      <small class="error"
                        *ngIf="form.controls['area_id'].touched && form.controls['area_id'].errors?.required">Area is
                        required</small>
                    </div>
        
                    <div class="form-group">
                      <label for="address">Address</label>
                      <input type="text" class="form-control" id="address" placeholder="Address" formControlName="address" [required]="roles && roles != 'admin'">
                    </div>

                    <button *ngIf="roles && roles != 'admin'" type="submit" class="btn btn-primary">Save</button>
                </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>